# é“¶æ²³éº’éºŸæ™ºèƒ½é—®ç­”åŠ©æ‰‹ - å°ç™½éƒ¨ç½²æŒ‡å—

## ğŸ“‹ éƒ¨ç½²æ¦‚è¿°

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨åœ¨é“¶æ²³éº’éºŸæ“ä½œç³»ç»Ÿä¸Šå¿«é€Ÿéƒ¨ç½²é“¶æ²³éº’éºŸæ™ºèƒ½é—®ç­”åŠ©æ‰‹ã€‚å³ä½¿æ‚¨æ˜¯ç¼–ç¨‹åˆå­¦è€…ï¼Œä¹Ÿèƒ½æŒ‰ç…§æœ¬æŒ‡å—è½»æ¾å®Œæˆéƒ¨ç½²ã€‚

## ğŸ¯ éƒ¨ç½²ç›®æ ‡

éƒ¨ç½²å®Œæˆåï¼Œæ‚¨å°†è·å¾—ï¼š
- ğŸŒ Webç‰ˆæ™ºèƒ½é—®ç­”ç³»ç»Ÿ (http://localhost:8000)
- ğŸ–¥ï¸ æ¡Œé¢ç‰ˆé—®ç­”åº”ç”¨
- ğŸ“š æ”¯æŒPDFã€Markdownã€æ–‡æœ¬æ–‡æ¡£ä¸Šä¼ 
- ğŸ¤ è¯­éŸ³æ’­æ”¾å’Œæ§åˆ¶åŠŸèƒ½
- ğŸ¤– åŸºäºAIçš„æ™ºèƒ½é—®ç­”

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

### ç¡¬ä»¶è¦æ±‚
- **CPU**: åŒæ ¸1GHzä»¥ä¸Šå¤„ç†å™¨
- **å†…å­˜**: 4GB RAMï¼ˆæ¨è8GBï¼‰
- **å­˜å‚¨**: 2GBå¯ç”¨ç£ç›˜ç©ºé—´
- **ç½‘ç»œ**: äº’è”ç½‘è¿æ¥ï¼ˆç”¨äºAIæœåŠ¡ï¼‰

### è½¯ä»¶è¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: é“¶æ²³éº’éºŸV10/V4.0.2æˆ–æ›´é«˜ç‰ˆæœ¬
- **Python**: 3.8æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆé€šå¸¸ç³»ç»Ÿè‡ªå¸¦ï¼‰
- **æµè§ˆå™¨**: Chromeã€Firefoxã€Edgeç­‰ç°ä»£æµè§ˆå™¨

## ğŸš€ å¿«é€Ÿéƒ¨ç½²ï¼ˆæ¨èï¼‰

### æ–¹æ³•ä¸€ï¼šä¸€é”®è‡ªåŠ¨éƒ¨ç½²

1. **æ‰“å¼€ç»ˆç«¯**
   ```bash
   # æŒ‰ Ctrl+Alt+T æ‰“å¼€ç»ˆç«¯
   ```

2. **ä¸‹è½½é¡¹ç›®**
   ```bash
   # å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°
   git clone https://github.com/qwiller/g.git
   cd g/rag-assistant
   ```

3. **æ‰§è¡Œä¸€é”®éƒ¨ç½²**
   ```bash
   # ç»™éƒ¨ç½²è„šæœ¬æ‰§è¡Œæƒé™
   chmod +x deploy.sh
   
   # è¿è¡Œä¸€é”®éƒ¨ç½²è„šæœ¬
   ./deploy.sh
   ```

4. **ç­‰å¾…éƒ¨ç½²å®Œæˆ**
   - è„šæœ¬ä¼šè‡ªåŠ¨å®‰è£…æ‰€æœ‰ä¾èµ–
   - åˆ›å»ºç³»ç»ŸæœåŠ¡
   - å¯åŠ¨åº”ç”¨ç¨‹åº
   - æ•´ä¸ªè¿‡ç¨‹çº¦éœ€5-10åˆ†é’Ÿ

5. **éªŒè¯éƒ¨ç½²**
   ```bash
   # æ£€æŸ¥æœåŠ¡çŠ¶æ€
   sudo systemctl status kylin-qa-assistant
   
   # å¦‚æœæ˜¾ç¤º "active (running)" åˆ™éƒ¨ç½²æˆåŠŸ
   ```

6. **è®¿é—®åº”ç”¨**
   - æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:8000
   - çœ‹åˆ°æ¬¢è¿ç•Œé¢å³è¡¨ç¤ºéƒ¨ç½²æˆåŠŸ

## ğŸ”§ æ‰‹åŠ¨éƒ¨ç½²ï¼ˆè¯¦ç»†æ­¥éª¤ï¼‰

å¦‚æœè‡ªåŠ¨éƒ¨ç½²å¤±è´¥ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ‰‹åŠ¨éƒ¨ç½²ï¼š

### æ­¥éª¤1ï¼šå‡†å¤‡ç¯å¢ƒ

1. **æ›´æ–°ç³»ç»ŸåŒ…**
   ```bash
   sudo apt update
   sudo apt upgrade -y
   ```

2. **å®‰è£…å¿…è¦çš„ç³»ç»Ÿä¾èµ–**
   ```bash
   sudo apt install -y python3 python3-pip python3-venv python3-tk git curl
   ```

3. **éªŒè¯Pythonç‰ˆæœ¬**
   ```bash
   python3 --version
   # åº”è¯¥æ˜¾ç¤º Python 3.8.x æˆ–æ›´é«˜ç‰ˆæœ¬
   ```

### æ­¥éª¤2ï¼šä¸‹è½½é¡¹ç›®

1. **å…‹éš†é¡¹ç›®**
   ```bash
   # åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹åˆ›å»ºé¡¹ç›®ç›®å½•
   cd ~
   git clone https://github.com/qwiller/g.git
   cd g/rag-assistant
   ```

2. **æŸ¥çœ‹é¡¹ç›®ç»“æ„**
   ```bash
   ls -la
   # åº”è¯¥çœ‹åˆ° backend/, frontend/, docs/ ç­‰ç›®å½•
   ```

### æ­¥éª¤3ï¼šå®‰è£…Pythonä¾èµ–

1. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**
   ```bash
   python3 -m venv venv
   source venv/bin/activate
   ```

2. **å®‰è£…ä¾èµ–åŒ…**
   ```bash
   pip install --upgrade pip
   pip install -r requirements.txt
   ```

3. **éªŒè¯å®‰è£…**
   ```bash
   pip list | grep fastapi
   # åº”è¯¥æ˜¾ç¤º fastapi ç›¸å…³åŒ…
   ```

### æ­¥éª¤4ï¼šå¯åŠ¨æœåŠ¡

1. **å¯åŠ¨åç«¯æœåŠ¡**
   ```bash
   # ç¡®ä¿åœ¨ rag-assistant ç›®å½•ä¸‹
   python3 backend/main.py
   ```

2. **éªŒè¯æœåŠ¡å¯åŠ¨**
   - çœ‹åˆ° "ğŸš€ å¯åŠ¨é“¶æ²³éº’éºŸæ™ºèƒ½é—®ç­”åŠ©æ‰‹..." è¡¨ç¤ºå¯åŠ¨æˆåŠŸ
   - æœåŠ¡è¿è¡Œåœ¨ http://localhost:8000

3. **æµ‹è¯•æœåŠ¡**
   ```bash
   # æ–°å¼€ä¸€ä¸ªç»ˆç«¯çª—å£æµ‹è¯•
   curl http://localhost:8000/status
   # åº”è¯¥è¿”å›JSONæ ¼å¼çš„çŠ¶æ€ä¿¡æ¯
   ```

### æ­¥éª¤5ï¼šè®¿é—®åº”ç”¨

1. **æ‰“å¼€Webç•Œé¢**
   - æ‰“å¼€æµè§ˆå™¨
   - è®¿é—®ï¼šhttp://localhost:8000
   - çœ‹åˆ°æ™ºèƒ½é—®ç­”åŠ©æ‰‹ç•Œé¢

2. **æµ‹è¯•æ¡Œé¢åº”ç”¨**
   ```bash
   # åœ¨æ–°ç»ˆç«¯ä¸­è¿è¡Œæ¡Œé¢ç‰ˆ
   cd ~/g/rag-assistant
   source venv/bin/activate
   python3 desktop_app.py
   ```

## ğŸ“š ä½¿ç”¨æŒ‡å—

### é¦–æ¬¡ä½¿ç”¨

1. **ä¸Šä¼ æ–‡æ¡£**
   - åœ¨Webç•Œé¢å·¦ä¾§ç‚¹å‡»"é€‰æ‹©æ–‡ä»¶"
   - é€‰æ‹©PDFã€Markdownæˆ–æ–‡æœ¬æ–‡ä»¶
   - ç­‰å¾…ä¸Šä¼ å’Œå¤„ç†å®Œæˆ

2. **å¼€å§‹é—®ç­”**
   - åœ¨å³ä¾§é—®ç­”åŒºåŸŸè¾“å…¥é—®é¢˜
   - ç‚¹å‡»"å‘é€"æŒ‰é’®
   - ç­‰å¾…AIç”Ÿæˆå›ç­”

3. **è¯­éŸ³åŠŸèƒ½**
   - ç‚¹å‡»å›ç­”ä¸‹æ–¹çš„"ğŸ”Š æ’­æ”¾è¯­éŸ³"
   - ä½¿ç”¨"â¸ï¸ æš‚åœ"å’Œ"â–¶ï¸ ç»§ç»­"æ§åˆ¶æ’­æ”¾

### å¸¸ç”¨æ“ä½œ

```bash
# å¯åŠ¨æœåŠ¡
sudo systemctl start kylin-qa-assistant

# åœæ­¢æœåŠ¡
sudo systemctl stop kylin-qa-assistant

# é‡å¯æœåŠ¡
sudo systemctl restart kylin-qa-assistant

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
sudo systemctl status kylin-qa-assistant

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
sudo journalctl -u kylin-qa-assistant -f
```

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

#### é—®é¢˜1ï¼šç«¯å£8000è¢«å ç”¨
```bash
# æŸ¥çœ‹å ç”¨ç«¯å£çš„è¿›ç¨‹
sudo netstat -tlnp | grep :8000

# æ€æ­»å ç”¨è¿›ç¨‹ï¼ˆæ›¿æ¢PIDä¸ºå®é™…è¿›ç¨‹IDï¼‰
sudo kill -9 PID

# é‡æ–°å¯åŠ¨æœåŠ¡
sudo systemctl restart kylin-qa-assistant
```

#### é—®é¢˜2ï¼šPythonä¾èµ–å®‰è£…å¤±è´¥
```bash
# æ›´æ–°pip
pip install --upgrade pip

# ä½¿ç”¨å›½å†…é•œåƒæº
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/

# å¦‚æœè¿˜æ˜¯å¤±è´¥ï¼Œé€ä¸ªå®‰è£…
pip install fastapi uvicorn python-multipart pypdf pycryptodome markdown numpy requests python-dotenv
```

#### é—®é¢˜3ï¼šæƒé™é—®é¢˜
```bash
# ç»™å½“å‰ç”¨æˆ·æ·»åŠ å¿…è¦æƒé™
sudo usermod -a -G audio,video $USER

# é‡æ–°ç™»å½•æˆ–é‡å¯ç³»ç»Ÿä½¿æƒé™ç”Ÿæ•ˆ
```

#### é—®é¢˜4ï¼šæœåŠ¡æ— æ³•å¯åŠ¨
```bash
# æ£€æŸ¥é…ç½®æ–‡ä»¶
sudo systemctl cat kylin-qa-assistant

# æ‰‹åŠ¨å¯åŠ¨æŸ¥çœ‹é”™è¯¯ä¿¡æ¯
cd ~/g/rag-assistant
source venv/bin/activate
python3 backend/main.py
```

#### é—®é¢˜5ï¼šæµè§ˆå™¨æ— æ³•è®¿é—®
```bash
# æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
sudo ufw status

# å¦‚æœé˜²ç«å¢™å¼€å¯ï¼Œå…è®¸8000ç«¯å£
sudo ufw allow 8000

# æ£€æŸ¥æœåŠ¡æ˜¯å¦çœŸæ­£è¿è¡Œ
curl http://localhost:8000/status
```

### æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
sudo journalctl -u kylin-qa-assistant -n 50

# å®æ—¶æŸ¥çœ‹æ—¥å¿—
sudo journalctl -u kylin-qa-assistant -f

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
sudo journalctl -u kylin-qa-assistant --since "1 hour ago" -p err
```

## ğŸ”„ æ›´æ–°å’Œç»´æŠ¤

### æ›´æ–°åº”ç”¨

```bash
# åœæ­¢æœåŠ¡
sudo systemctl stop kylin-qa-assistant

# æ›´æ–°ä»£ç 
cd ~/g
git pull origin main

# æ›´æ–°ä¾èµ–
cd rag-assistant
source venv/bin/activate
pip install -r requirements.txt --upgrade

# é‡å¯æœåŠ¡
sudo systemctl start kylin-qa-assistant
```

### å¤‡ä»½æ•°æ®

```bash
# å¤‡ä»½æ–‡æ¡£æ•°æ®
cp ~/g/rag-assistant/documents.json ~/backup/
cp -r ~/g/rag-assistant/uploads/ ~/backup/

# å¤‡ä»½é…ç½®
sudo cp /etc/systemd/system/kylin-qa-assistant.service ~/backup/
```

### å¸è½½åº”ç”¨

```bash
# åœæ­¢å¹¶ç¦ç”¨æœåŠ¡
sudo systemctl stop kylin-qa-assistant
sudo systemctl disable kylin-qa-assistant

# åˆ é™¤æœåŠ¡æ–‡ä»¶
sudo rm /etc/systemd/system/kylin-qa-assistant.service
sudo systemctl daemon-reload

# åˆ é™¤åº”ç”¨ç›®å½•
rm -rf ~/g

# åˆ é™¤è™šæ‹Ÿç¯å¢ƒ
rm -rf ~/.local/share/virtualenvs/rag-assistant-*
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### è·å–å¸®åŠ©

- **GitHub Issues**: https://github.com/qwiller/g/issues
- **é¡¹ç›®æ–‡æ¡£**: æŸ¥çœ‹é¡¹ç›®ç›®å½•ä¸‹çš„README.md
- **åŠŸèƒ½è¯´æ˜**: æŸ¥çœ‹VOICE_CONTROLS_FEATURE.md

### åé¦ˆé—®é¢˜

æäº¤é—®é¢˜æ—¶è¯·åŒ…å«ï¼š
1. æ“ä½œç³»ç»Ÿç‰ˆæœ¬ï¼š`cat /etc/kylin-release`
2. Pythonç‰ˆæœ¬ï¼š`python3 --version`
3. é”™è¯¯æ—¥å¿—ï¼š`sudo journalctl -u kylin-qa-assistant -n 20`
4. è¯¦ç»†çš„æ“ä½œæ­¥éª¤

## âœ… éƒ¨ç½²æ£€æŸ¥æ¸…å•

éƒ¨ç½²å®Œæˆåï¼Œè¯·æ£€æŸ¥ä»¥ä¸‹é¡¹ç›®ï¼š

- [ ] æœåŠ¡çŠ¶æ€æ­£å¸¸ï¼š`sudo systemctl status kylin-qa-assistant`
- [ ] Webç•Œé¢å¯è®¿é—®ï¼šhttp://localhost:8000
- [ ] æ–‡æ¡£ä¸Šä¼ åŠŸèƒ½æ­£å¸¸
- [ ] é—®ç­”åŠŸèƒ½æ­£å¸¸
- [ ] è¯­éŸ³æ’­æ”¾åŠŸèƒ½æ­£å¸¸
- [ ] æ¡Œé¢åº”ç”¨å¯å¯åŠ¨
- [ ] ç³»ç»ŸæœåŠ¡è‡ªå¯åŠ¨ï¼š`sudo systemctl is-enabled kylin-qa-assistant`

## ğŸ‰ éƒ¨ç½²å®Œæˆ

æ­å–œï¼æ‚¨å·²ç»æˆåŠŸåœ¨é“¶æ²³éº’éºŸæ“ä½œç³»ç»Ÿä¸Šéƒ¨ç½²äº†æ™ºèƒ½é—®ç­”åŠ©æ‰‹ã€‚

ç°åœ¨æ‚¨å¯ä»¥ï¼š
1. ä¸Šä¼ ç›¸å…³æ–‡æ¡£
2. å¼€å§‹æ™ºèƒ½é—®ç­”
3. ä½“éªŒè¯­éŸ³æ’­æ”¾åŠŸèƒ½
4. ä½¿ç”¨æ¡Œé¢ç‰ˆåº”ç”¨

äº«å—AIåŠ©æ‰‹å¸¦æ¥çš„ä¾¿åˆ©å§ï¼ğŸš€
